[build]
	publish = "dist/static"
	command = "npm run jam"

[[redirects]]
	from = "/*"
	to = "/"
	status = 301

[[plugins]]
	package = "@algolia/netlify-plugin-crawler"  	
		[plugins.inputs]
  			branches = ['release']

[[plugins]]
	package = "netlify-plugin-inline-critical-css"

  	# All inputs are optional, so you can omit this section.
  	# Defaults are shown below.
  		[plugins.inputs]
    		# A filter used to target specific files in the publish directory. Be sure to only target HTML files. This option is passed onto the readdirp library, see https://github.com/paulmillr/readdirp#options for more info.
    		fileFilter = ["*.html"]

    		# A filter used to target or ignore specific directories in the publish directory. This option is passed onto the readdirp library, see https://github.com/paulmillr/readdirp#options for more info.
    		directoryFilter = ["!node_modules"]

    		# You can refer to `critical`’s documentation: https://github.com/addyosmani/critical for all options below.
		    # Whether to minify the generated critical-path CSS.
    		minify = true

    		# Whether to remove the inlined styles from any stylesheet referenced in the HTML. Use with caution. Removing the critical CSS per page results in a unique async loaded CSS file for every page, meaning you can’t rely on cache across multiple pages.
    		extract = false

    		# An array of objects containing `width` and `height` properties to deliver critical CSS for multiple screen resolutions.
    		dimensions = [
      			{ width = 414, height = 896 },
      			{ width = 1920, height = 1080 }
    		]




# NOTES:

# SCULLY - deploy to Netlyfy --> only worked in prev img verion: "Ubuntu Xenial 16.04"
# (Site Setings > Build & deploiy > Build image selection)

# DEPLOY MINUTES --> Don't exceed the monthly available "deploy minutes" for free,
# setting up the production branch to "release" instead of "master" and
# you can also use the plugin "Deployment hours" to block deployment if outta free minutes.
